{"version":3,"sources":["components/Intro.jsx","components/Data/Point.jsx","components/Data/Info.jsx","components/Data/Datum.jsx","components/Data.jsx","components/Ruler/Mark.jsx","components/Counter.jsx","components/Ruler.jsx","App.js","serviceWorker.js","index.js"],"names":["Intro","styled","div","Header","Main","Footer","Section","Text","p","Heading","H1","h1","Point","location","Arrow","Title","point","maxYear","layer","title","Info","Riser","yearsFromToday","type","DataContainer","Data","state","data","this","filter","lowerBound","upperBound","props","debouncedLocation","buffer","window","innerWidth","fetch","then","response","json","currentYear","Date","now","getYear","forEach","year","feet_from_beginning","pixelsPerFoot","years_from_beginning","years_ago","Error","console","log","setState","presentedData","map","Datum","key","React","Component","Mark","attrs","lineLength","style","height","left","markingLocation","Counter","isNaN","formattedYear","toLocaleString","undefined","minimumFrationDigits","firstMarkLocation","Math","max","round","uppermostMarkPosition","lastMarkLocation","min","lowermostMarkPosition","calculateLocation","i","middleYear","marks","numMarks","numberOfMarks","push","CounterContainer","MarksContainer","Ruler","AppContainer","size","Scrollable","Timeline","App","debounce","app","createRef","handleScroll","bind","current","addEventListener","removeEventListener","e","target","scrollLeft","offset","setTimeout","ref","className","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.2b6cbee9.chunk.js","sourcesContent":["import React from 'react'\nimport styled from 'styled-components/macro'\n\nconst Intro = styled.div`\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\nconst Header = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\nconst Main = styled.div`\n  margin-bottom: 30px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\nconst Footer = styled.div``\n\nconst Section = styled.div`\n  margin: 10px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\nconst Text = styled.p`\n  margin: 0;\n`\n\nconst Heading = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n`\n\nconst H1 = styled.h1`\n margin: 0 5px;\n `\n\nexport default () => (\n  <Intro>\n    <Header>\n      <Heading>\n      <H1>\n        if a year were\n      </H1>\n      <H1>\n        only a pixel.\n      </H1>\n      </Heading>\n      <h3>\n        a showcase of time.\n      </h3>\n    </Header>\n    <Main>\n      <Section>\n        <Text>every small mark is 10 years apart</Text>\n        <Text>medium marks are every 100 years</Text>\n        <Text>large marks are 1000</Text>\n      </Section>\n      <Section>\n        <Text>this first long red line is 6 million years ago</Text>\n      </Section>\n    </Main>\n    <Footer>\n      <Text>\n        scroll right to explore --->\n      </Text>\n    </Footer>\n  </Intro>\n\n)\n","import React from 'react'\r\nimport styled from 'styled-components/macro'\r\n\r\nconst Point = styled.div`\r\n  position: absolute;\r\n  left: ${({ location }) => location}px;\r\n  bottom: 0px;\r\n  display: flex;\r\n  align-items: flex-start;\r\n`\r\n\r\nconst Arrow = styled.div`\r\n  height: 70px;\r\n  width: 5px;\r\n  margin-right: 5px;\r\n  border-left: 1px solid white;\r\n  border-top: 1px solid white;\r\n`\r\n\r\nconst Title = styled.div`\r\n  margin-top: -10px;\r\n  width: max-content;\r\n  max-width: 300px;\r\n`\r\n\r\nexport default ({ point, maxYear }) => {\r\n  return (\r\n    <Point location={point.location}>\r\n      <Arrow layer={point.layer || 1} />\r\n      <Title>\r\n        {point.title}\r\n      </Title>\r\n    </Point>\r\n  )\r\n}\r\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nconst Info = styled.div`\n  position: absolute;\n  left: ${({ location }) => location}px;\n  top: 10%;\n  display: flex;\n  flex-direction: column-reverse;\n`\nconst Riser = styled.div`\n  height: 100%;\n`\n\nconst Title = styled.div`\n  width: max-content;\n  max-width: 300px;\n`\n\nexport default ({ point, maxYear }) => {\n  if (point.yearsFromToday > maxYear) {\n    return null\n  }\n\n  return (\n    <Info location={point.location}>\n      <Riser />\n      <Title>\n        {point.title}\n      </Title>\n    </Info>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nimport Point from './Point'\nimport Info from './Info'\n\nexport default ({ point, maxYear }) => {\n  if (point.yearsFromToday > maxYear) {\n    return null\n  }\n\n  switch (point.type) {\n    case 'point':\n      return <Point point={point} />\n    case 'info':\n      return <Info point={point} />\n    default:\n      return null\n  }\n}\n","import React from 'react'\r\nimport styled from 'styled-components/macro'\r\n\r\nimport Datum from './Data/Datum'\r\n\r\nconst DataContainer = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  position: relative;\r\n`\r\n\r\nexport default class Data extends React.Component {\r\n  constructor () {\r\n    super()\r\n\r\n    this.state = {\r\n      data: []\r\n    }\r\n  }\r\n\r\n  static get pixelsPerFoot () {\r\n    return 1000\r\n  }\r\n\r\n  presentedData () {\r\n    return this.state.data.filter(point => (\r\n      point.location > this.lowerBound() && point.location < this.upperBound()\r\n    ))\r\n  }\r\n\r\n  lowerBound () {\r\n    return this.props.debouncedLocation - this.buffer()\r\n  }\r\n\r\n  upperBound () {\r\n    return this.props.debouncedLocation + window.innerWidth + this.buffer()\r\n  }\r\n\r\n  buffer () {\r\n    return window.innerWidth * 0.5\r\n  }\r\n\r\n  componentDidMount () {\r\n    window.fetch(`${window.location}/data.json`)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        const currentYear = (new Date(Date.now())).getYear() + 1900 // fuck javascript\r\n        data.forEach(point => {\r\n          if (point.year) {\r\n            point.yearsFromToday = 0 - (point.year - currentYear)\r\n            point.location = this.props.maxYear - point.yearsFromToday\r\n          } else if (point.feet_from_beginning) {\r\n            point.location = point.feet_from_beginning * Data.pixelsPerFoot\r\n            point.yearsFromToday = this.props.maxYear - point.location\r\n          } else if (point.years_from_beginning) {\r\n            point.location = point.years_from_beginning\r\n            point.yearsFromToday = this.props.maxYear - point.location\r\n          } else if (point.years_ago) {\r\n            point.yearsFromToday = point.years_ago\r\n            point.location = this.props.maxYear - point.yearsFromToday\r\n          } else {\r\n            if (point.type !== 'hide') {\r\n              throw new Error(`data point missing location info: ${point.title}`)\r\n            }\r\n          }\r\n        })\r\n        console.log(data)\r\n        this.setState({ data })\r\n      })\r\n  }\r\n\r\n  render () {\r\n    const presentedData = this.presentedData()\r\n    return (\r\n      <DataContainer>\r\n        {presentedData.map(point => (\r\n          <Datum\r\n            key={point.title}\r\n            point={point}\r\n            maxYear={this.props.maxYear}\r\n          />\r\n        ))}\r\n      </DataContainer>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\n// const Mark = styled.div`\n//   width: 1px;\n//   height: ${({ lineLength }) => lineLength}px;\n//   background-color: red;\n//   position: absolute;\n//   left: ${({ location }) => location}px;\n//   top: 0;\n// `\n\nconst Mark = styled.div.attrs(({ lineLength, location }) => ({\n  style: {\n    height: `${lineLength}px`,\n    left: `${location}px`\n  }\n}))`\n  width: 1px;\n  background-color: red;\n  position: absolute;\n  top: 0;\n`\n\nexport default ({ markingLocation, location }) => {\n  let lineLength = 10\n  if (location % 1000 === 0) {\n    lineLength = 50\n  } else if (location % 100 === 0) {\n    lineLength = 20\n  }\n\n  return (\n    <Mark lineLength={lineLength} location={location} />\n  )\n}\n","import React from 'react'\r\nimport styled from 'styled-components/macro'\r\n\r\nconst Arrow = styled.div`\r\n  height: 0;\r\n  width: 0;\r\n  margin-bottom: 20px;\r\n  border-bottom: 20px solid white;\r\n  border-left: 20px solid transparent;\r\n  border-right: 20px solid transparent;\r\n`\r\n\r\nconst Counter = styled.div`\r\n  position: fixed;\r\n  left: ${({ innerWidth }) => innerWidth / 2}px;\r\n  bottom: 20px;\r\n  transform: translateX(-50%);\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  width: 140px;\r\n`\r\n\r\nexport default (props) => {\r\n  let { year, maxYear } = props\r\n  if (year > maxYear || isNaN(year)) return null\r\n  if (year === 0) year += 0 // stupid negative zero\r\n  const formattedYear = year.toLocaleString(undefined, { minimumFrationDigits: 0 })\r\n\r\n  return (\r\n    <Counter innerWidth={window.innerWidth}>\r\n      <div>\r\n        <div>\r\n          {formattedYear}\r\n        </div>\r\n        <div>\r\n          years ago\r\n        </div>\r\n      </div>\r\n      <Arrow layer='1' />\r\n    </Counter>\r\n  )\r\n}\r\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nimport Mark from './Ruler/Mark'\nimport Counter from './Counter'\n\nconst yearsPerMark = 10\n\nconst uppermostMarkPosition = (props) => (\n  Math.round((props.debouncedLocation - window.innerWidth) / yearsPerMark) * yearsPerMark\n)\n\nconst firstMarkLocation = (props) => (\n  Math.max(uppermostMarkPosition(props), 0)\n)\n\nconst lowermostMarkPosition = (props) => (\n  firstMarkLocation(props) + (10 * window.innerWidth)\n)\n\nconst lastMarkLocation = (props) => (\n  Math.min(lowermostMarkPosition(props), props.maxYear)\n)\n\nconst numberOfMarks = (props) => (\n  (lastMarkLocation(props) - firstMarkLocation(props)) / yearsPerMark\n)\n\nconst calculateLocation = (props, i) => (\n  Math.round(firstMarkLocation(props) + i * yearsPerMark)\n)\n\nconst middleYear = ({ location, maxYear }) => (\n  maxYear - Math.round(location + (window.innerWidth / 2))\n)\n\nconst marks = (props) => {\n  const marks = []\n  const numMarks = numberOfMarks(props)\n  for (let i = 0; i < numMarks; i++) {\n    const location = calculateLocation(props, i)\n    marks.push(\n      <Mark key={location} location={location} />\n    )\n  }\n\n  return marks\n}\n\nconst CounterContainer = styled.div`\n  height: 0;\n  width: 100%;\n`\n\nconst MarksContainer = styled.div`\n  width: 100%;\n  height: 150px;\n  position: relative;\n`\n\nconst Ruler = styled.div`\n  height: 150px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  border-top: 1px solid red;\n`\n\nexport default (props) => {\n  return (\n    <Ruler>\n      <CounterContainer>\n        <Counter year={middleYear(props)} maxYear={props.maxYear} />\n      </CounterContainer>\n      <MarksContainer>\n        {marks(props)}\n      </MarksContainer>\n    </Ruler>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nimport Intro from './components/Intro'\nimport Data from './components/Data'\nimport Ruler from './components/Ruler'\n\nconst AppContainer = styled.div`\n  width: ${({ size }) => size}px;\n  height: 100vh;\n  color: white;\n  background-color: black;\n  width: 100vw;\n  overflow: scroll;\n  `\n\nconst Scrollable = styled.div`\n  display: flex;\n  width: ${({ size }) => size}px;\n  padding-right: 1000px;\n`\n\nconst Timeline = styled.div`\n  position: relative;\n  width: 100%;\n  display: flex;\n  flex-direction: column-reverse;\n`\n\nclass App extends React.Component {\n  static get maxYear () {\n    return 6000000\n  }\n\n  static get offset () {\n    return window.innerWidth\n  }\n\n  constructor () {\n    super()\n\n    this.state = {\n      debouncedLocation: window.innerWidth * -1, // make sure middleYear is negative at mount so Counter doesn't display\n      debounce: null\n    }\n\n    this.app = React.createRef()\n\n    this.handleScroll = this.handleScroll.bind(this)\n  }\n\n  componentDidMount () {\n    this.app.current.addEventListener('scroll', this.handleScroll)\n  }\n\n  componentWillUnmount () {\n    this.app.current.removeEventListener('scroll', this.handleScroll)\n  }\n\n  handleScroll (e) {\n    // Always set location so it is up to date\n    this.setState({ location: e.target.scrollLeft - App.offset }, () => {\n      if (this.state.debounce) {\n        const now = Date.now()\n        if (now - this.state.debounce >= 200) {\n          this.setState({ debouncedLocation: this.state.location, debounce: now })\n        } else {\n          setTimeout(() => {\n            const now = Date.now()\n            if (this.state.debounce && now - this.state.debounce >= 300) {\n              this.setState({ debouncedLocation: this.state.location, debounce: null })\n            }\n          }, 500)\n        }\n      } else {\n        this.setState({ debounce: Date.now() })\n      }\n    })\n  }\n\n  render () {\n    return (\n      <AppContainer ref={this.app} className='App' size={App.maxYear}>\n        <Scrollable size={App.maxYear}>\n          <Intro />\n          <Timeline>\n            <Ruler\n              debouncedLocation={this.state.debouncedLocation}\n              location={this.state.location}\n              offset={App.offset}\n              maxYear={App.maxYear}\n            />\n            <Data\n              debouncedLocation={this.state.debouncedLocation}\n              maxYear={App.maxYear}\n            />\n          </Timeline>\n        </Scrollable>\n      </AppContainer>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  window.fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}