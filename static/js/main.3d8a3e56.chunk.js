(this["webpackJsonpif-a-year-were-only-a-pixel"]=this["webpackJsonpif-a-year-were-only-a-pixel"]||[]).push([[0],{15:function(e,t,n){e.exports=n(23)},20:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(11),r=n.n(o),l=(n(20),n(3)),c=n(2),s=n(7),d=n(6),p=n(1),m=p.a.p.withConfig({displayName:"Text",componentId:"sc-19z91ly-0"})(["margin:7px 0;"]),u=p.a.div.withConfig({displayName:"Intro",componentId:"sc-8j1mex-0"})(["height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;flex-shrink:0;"]),f=p.a.div.withConfig({displayName:"Intro__Header",componentId:"sc-8j1mex-1"})(["display:flex;flex-direction:column;align-items:center;"]),h=p.a.div.withConfig({displayName:"Intro__Main",componentId:"sc-8j1mex-2"})(["margin-bottom:30px;display:flex;flex-direction:column;align-items:center;"]),x=p.a.div.withConfig({displayName:"Intro__Footer",componentId:"sc-8j1mex-3"})(["display:flex;flex-direction:column;align-items:center;"]),y=p.a.div.withConfig({displayName:"Intro__Section",componentId:"sc-8j1mex-4"})(["margin:10px 0;display:flex;flex-direction:column;align-items:center;"]),g=p.a.div.withConfig({displayName:"Intro__Heading",componentId:"sc-8j1mex-5"})(["display:flex;justify-content:center;flex-wrap:wrap;"]),w=p.a.h1.withConfig({displayName:"Intro__H1",componentId:"sc-8j1mex-6"})(["margin:0 5px;"]),v=p.a.div.withConfig({displayName:"Intro__Line",componentId:"sc-8j1mex-7"})(["height:20px;width:1px;background-color:red;"]),b=p.a.div.withConfig({displayName:"Intro__ToTranscript",componentId:"sc-8j1mex-8"})(["display:inline-block;border:1px solid white;border-radius:6px;padding:3px 11px;margin-top:9px;&:hover{cursor:pointer;}"]),_=function(e){var t=e.toTranscript,n=e.offset;return i.a.createElement(u,{size:n},i.a.createElement(f,null,i.a.createElement(g,null,i.a.createElement(w,null,"if a year were"),i.a.createElement(w,null,"only a pixel.")),i.a.createElement("h3",null,"a showcase of evolutionary time.")),i.a.createElement(h,null,i.a.createElement(y,null,i.a.createElement(m,null,"if a year were compressed to the width of this line"),i.a.createElement(v,null),i.a.createElement(m,null,"what does human evolution look like?"))),i.a.createElement(x,null,i.a.createElement(m,null,"scroll right to explore ---\x3e"),i.a.createElement(m,null,"or"),i.a.createElement(b,{onClick:t},i.a.createElement(m,null,"read the transcript (boring)"))))},E=function(e){return e.toLocaleString("en")},I=p.a.table.withConfig({displayName:"Transcript__DataContainer",componentId:"u4d0xh-0"})(["padding:5% 15%;"]),C=p.a.li.withConfig({displayName:"Transcript__ItemBase",componentId:"u4d0xh-1"})(["display:flex;justify-content:flex-start;align-items:stretch;"]),k=Object(p.a)(C).withConfig({displayName:"Transcript__ItemHeader",componentId:"u4d0xh-2"})(["font-size:x-large;"]),N=Object(p.a)(C).withConfig({displayName:"Transcript__Item",componentId:"u4d0xh-3"})(["border-top:1px solid white;"]),T=p.a.div.withConfig({displayName:"Transcript__Year",componentId:"u4d0xh-4"})(["display:flex;justify-content:flex-end;align-items:center;width:120px;border-right:1px solid white;padding:16px;flex-shrink:0;"]),j=Object(p.a)(T).withConfig({displayName:"Transcript__YearHeader",componentId:"u4d0xh-5"})([""]),Y=p.a.div.withConfig({displayName:"Transcript__Title",componentId:"u4d0xh-6"})(["flex-grow:1;padding:16px;"]),S=Object(p.a)(Y).withConfig({displayName:"Transcript__TitleHeader",componentId:"u4d0xh-7"})(["font-size:x-large;"]),L=p.a.div.withConfig({displayName:"Transcript__ToTimeline",componentId:"u4d0xh-8"})(["display:inline-block;border:1px solid white;border-radius:6px;padding:3px 11px;&:hover{cursor:pointer;}"]),W=function(e){var t=e.item;return i.a.createElement(N,null,i.a.createElement(T,null,E(t.yearsFromToday)),i.a.createElement(Y,null,t.title))},O=function(e){var t=e.data,n=e.toTimeline;return i.a.createElement(I,null,i.a.createElement(L,{onClick:n},i.a.createElement(m,null,"back")),i.a.createElement(k,null,i.a.createElement(j,null,"Years Ago"),i.a.createElement(S,null,"Info")),t.reverse().map((function(e){return i.a.createElement(W,{key:e.title,item:e})})))},z=n(4),F=p.a.div.withConfig({displayName:"Scrollable__ScrollableContainer",componentId:"sc-1642pgs-0"})(["display:flex;overflow:scroll;width:100vw;"]),M=p.a.div.withConfig({displayName:"Scrollable__Scroller",componentId:"sc-1642pgs-1"})(["width:","px;display:flex;flex-shrink:0;"],(function(e){return e.size})),D=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={location:-1*window.innerWidth,debouncedLocation:-1*window.innerWidth,debounce:null},e.scrollable=i.a.createRef(),e.handleScroll=e.handleScroll.bind(Object(z.a)(e)),e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.scrollable.current.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.scrollable.current.removeEventListener("scroll",this.handleScroll)}},{key:"handleScroll",value:function(e){var t=this;this.setState({location:e.target.scrollLeft-this.props.offset},(function(){if(t.state.debounce){var e=Date.now();e-t.state.debounce>=200?t.setState({debouncedLocation:t.state.location,debounce:e}):setTimeout((function(){var e=Date.now();t.state.debounce&&e-t.state.debounce>=300&&t.setState({debouncedLocation:t.state.location,debounce:null})}),500)}else t.setState({debounce:Date.now()})}))}},{key:"children",value:function(){var e=this;return this.props.children.map((function(t){return i.a.cloneElement(t,{location:e.state.location,debouncedLocation:e.state.debouncedLocation},[])}))}},{key:"render",value:function(){return i.a.createElement(F,{ref:this.scrollable,offset:this.props.offset},i.a.createElement(M,{size:this.props.size},this.children()))}}]),n}(i.a.Component),A=p.a.div.withConfig({displayName:"Point",componentId:"sc-1aop68s-0"})(["position:absolute;left:","px;bottom:0px;display:flex;align-items:flex-start;"],(function(e){return e.location})),H=p.a.div.withConfig({displayName:"Point__Arrow",componentId:"sc-1aop68s-1"})(["width:5px;height:","px;margin-right:5px;border-left:1px solid white;border-top:1px solid white;transition:height 0.5s ease-out;"],(function(e){return 70*e.layer})),B=p.a.div.withConfig({displayName:"Point__Title",componentId:"sc-1aop68s-2"})(["margin-top:-10px;width:max-content;max-width:300px;"]),P=function(e){var t=e.point;e.maxYear;return i.a.createElement(A,{location:t.location},i.a.createElement(H,{layer:t.layer||1}),i.a.createElement(B,null,t.title))};P.maxWidth=300;var R=P,J=p.a.div.withConfig({displayName:"Info",componentId:"ye6kgs-0"})(["position:absolute;left:","px;top:10%;display:flex;flex-direction:column-reverse;"],(function(e){return e.location})),U=p.a.div.withConfig({displayName:"Info__Riser",componentId:"ye6kgs-1"})(["height:100%;"]),X=p.a.div.withConfig({displayName:"Info__Title",componentId:"ye6kgs-2"})(["width:80vw;max-width:600px;"]),$=function(e){var t=e.point,n=e.maxYear;return t.yearsFromToday>n?null:i.a.createElement(J,{location:t.location},i.a.createElement(U,null),i.a.createElement(X,null,t.title))},q=function(e){var t=e.point,n=e.maxYear;if(t.yearsFromToday>n)return null;switch(t.type){case"point":return i.a.createElement(R,{point:t});case"info":return i.a.createElement($,{point:t});default:return null}},G=p.a.div.withConfig({displayName:"Data__DataContainer",componentId:"sc-1xysers-0"})(["height:100%;width:100%;position:relative;"]),K=function(e,t){var n=t.debouncedLocation;return e>=n-R.maxWidth&&e<=n+window.innerWidth},Q=function(e){return e.debouncedLocation-Z()},V=function(e){return e.debouncedLocation+window.innerWidth+Z()},Z=function(){return 10*window.innerWidth},ee=function(e){return i.a.createElement(G,null,function(e){for(var t=e.data.filter((function(t){return t.location>=Q(e)&&t.location<=V(e)})),n=1,a=0;a<t.length;a++){var i=t[a];"point"===i.type&&K(i.location,e)&&(t[a]=Object.assign({},i,{layer:n}),n+=1)}return t}(e).map((function(t){return i.a.createElement(q,{key:t.title,point:t,maxYear:e.maxYear})})))},te=p.a.div.attrs((function(e){var t=e.lineLength,n=e.location;return{style:{height:"".concat(t,"px"),left:"".concat(n,"px")}}})).withConfig({displayName:"Mark",componentId:"sc-1nxel93-0"})(["width:1px;background-color:red;position:absolute;top:0;"]),ne=function(e){e.markingLocation;var t=e.location,n=10;return t%1e3===0?n=50:t%100===0&&(n=20),i.a.createElement(te,{lineLength:n,location:t})},ae=p.a.div.withConfig({displayName:"Counter",componentId:"sc-1sui342-0"})(["position:fixed;left:","px;bottom:20px;width:140px;transform:translateX(-50%);display:flex;flex-direction:column-reverse;justify-content:flex-end;align-items:center;z-index:10;opacity:",";transition:opacity 0.5s ease-out;"],(function(e){return e.innerWidth/2}),(function(e){return e.display?"1":"0"})),ie=p.a.div.withConfig({displayName:"Counter__Arrow",componentId:"sc-1sui342-1"})(["height:0;width:0;margin-bottom:20px;border-bottom:20px solid white;border-left:20px solid transparent;border-right:20px solid transparent;"]),oe=p.a.div.withConfig({displayName:"Counter__TransparentBackground",componentId:"sc-1sui342-2"})(["position:absolute;height:150%;width:150%;background-image:radial-gradient(black,transparent);z-index:-1;"]),re=function(e){var t=e.year,n=!0;return(t>e.maxYear||isNaN(t))&&(n=!1),0===t&&(t+=0),i.a.createElement(ae,{display:n,innerWidth:window.innerWidth},i.a.createElement(oe,null),i.a.createElement("div",null,i.a.createElement("div",null,E(t)),i.a.createElement("div",null,"years ago")),i.a.createElement(ie,null))},le=function(e){return Math.max(function(e){return 10*Math.round((e.debouncedLocation-5*window.innerWidth)/10)}(e),0)},ce=function(e){return Math.min(function(e){return e.debouncedLocation+5*window.innerWidth}(e),e.maxYear)},se=function(e,t){return Math.round(le(e)+10*t)},de=function(e){var t=e.location;return e.maxYear-Math.round(t+window.innerWidth/2)},pe=function(e){for(var t=[],n=function(e){return(ce(e)-le(e))/10}(e),a=0;a<=n;a++){var o=se(e,a);t.push(i.a.createElement(ne,{key:o,location:o}))}return t},me=p.a.div.withConfig({displayName:"Ruler__CounterContainer",componentId:"sc-4bvj51-0"})(["height:0;width:100%;"]),ue=p.a.div.withConfig({displayName:"Ruler__MarksContainer",componentId:"sc-4bvj51-1"})(["width:100%;height:150px;position:relative;"]),fe=p.a.div.withConfig({displayName:"Ruler",componentId:"sc-4bvj51-2"})(["height:150px;width:100%;display:flex;flex-direction:column;border-top:1px solid red;"]),he=function(e){return console.log(e.maxYear,e.location),i.a.createElement(fe,null,i.a.createElement(me,null,i.a.createElement(re,{year:de(e),maxYear:e.maxYear})),i.a.createElement(ue,null,pe(e)))},xe=p.a.div.withConfig({displayName:"Timeline",componentId:"wofhas-0"})(["position:relative;width:100%;display:flex;flex-direction:column-reverse;"]),ye=function(e){return i.a.createElement(xe,null,i.a.createElement(he,e),i.a.createElement(ee,e))},ge=p.a.div.withConfig({displayName:"App__AppBase",componentId:"jag4nx-0"})(["color:white;background-color:black;"]),we=Object(p.a)(ge).withConfig({displayName:"App__AppTimeline",componentId:"jag4nx-1"})(["width:","px;"],(function(e){return e.size})),ve=Object(p.a)(ge).withConfig({displayName:"App__AppTranscript",componentId:"jag4nx-2"})(["width:","px;"],(function(e){return e.size})),be=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={transcript:!1,data:[]},e}return Object(c.a)(n,null,[{key:"maxYear",get:function(){return 6e6}},{key:"offset",get:function(){return window.innerWidth}}]),Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.fetch("".concat(window.location,"/data.json")).then((function(e){return e.json()})).then((function(t){var a=new Date(Date.now()).getYear()+1900;t.forEach((function(e){if(e.year)e.yearsFromToday=0-(parseInt(e.year)-a),e.location=n.maxYear-e.yearsFromToday;else if(e.feet_from_beginning)e.location=parseInt(e.feet_from_beginning)*n.pixelsPerFoot,e.yearsFromToday=n.maxYear-e.location;else if(e.years_from_beginning)e.location=parseInt(e.years_from_beginning),e.yearsFromToday=n.maxYear-e.location;else if(e.years_ago)e.yearsFromToday=parseInt(e.years_ago),e.location=n.maxYear-e.yearsFromToday;else if("hide"!==e.type)throw new Error("data point missing location info: ".concat(e.title))}));var i=t.sort((function(e,t){return e.location<t.location}));e.setState({data:i})}))}},{key:"toTranscript",value:function(){this.setState({transcript:!0})}},{key:"toTimeline",value:function(){this.setState({transcript:!1})}},{key:"render",value:function(){return this.state.transcript?i.a.createElement(ve,{size:window.innerWidth},i.a.createElement(O,{data:this.state.data,toTimeline:this.toTimeline.bind(this)})):i.a.createElement(we,{size:n.maxYear+n.offset},i.a.createElement(D,{size:n.maxYear+n.offset,offset:n.offset},i.a.createElement(_,{offset:n.offset,toTranscript:this.toTranscript.bind(this)}),i.a.createElement(ye,{data:this.state.data,maxYear:n.maxYear,offset:n.offset})))}}],[{key:"pixelsPerFoot",get:function(){return 1560}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.3d8a3e56.chunk.js.map