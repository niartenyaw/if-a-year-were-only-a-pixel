(this["webpackJsonpif-a-year-were-only-a-pixel"]=this["webpackJsonpif-a-year-were-only-a-pixel"]||[]).push([[0],{15:function(e,t,n){e.exports=n(23)},20:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(11),r=n.n(o),l=(n(20),n(3)),c=n(2),s=n(7),d=n(6),m=n(1),p=m.a.p.withConfig({displayName:"Text",componentId:"sc-19z91ly-0"})(["margin:7px 0;"]),u=m.a.div.withConfig({displayName:"Intro",componentId:"sc-8j1mex-0"})(["height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;flex-shrink:0;"]),f=m.a.div.withConfig({displayName:"Intro__Header",componentId:"sc-8j1mex-1"})(["display:flex;flex-direction:column;align-items:center;"]),h=m.a.div.withConfig({displayName:"Intro__Main",componentId:"sc-8j1mex-2"})(["margin-bottom:30px;display:flex;flex-direction:column;align-items:center;"]),x=m.a.div.withConfig({displayName:"Intro__Section",componentId:"sc-8j1mex-3"})(["margin:10px 0;display:flex;flex-direction:column;align-items:center;"]),w=m.a.div.withConfig({displayName:"Intro__Heading",componentId:"sc-8j1mex-4"})(["display:flex;justify-content:center;flex-wrap:wrap;"]),y=m.a.h1.withConfig({displayName:"Intro__H1",componentId:"sc-8j1mex-5"})(["margin:0 5px;"]),g=m.a.div.withConfig({displayName:"Intro__Line",componentId:"sc-8j1mex-6"})(["height:20px;width:1px;background-color:red;"]),v=m.a.div.withConfig({displayName:"Intro__Footer",componentId:"sc-8j1mex-7"})(["display:flex;align-items:center;"]),b=m.a.div.withConfig({displayName:"Intro__Github",componentId:"sc-8j1mex-8"})(["margin-right:10px;"]),_=m.a.a.withConfig({displayName:"Intro__A",componentId:"sc-8j1mex-9"})(["text-decoration:none;color:white;"]),I=m.a.img.withConfig({displayName:"Intro__Img",componentId:"sc-8j1mex-10"})(["height:30px;width:auto;"]),E=m.a.div.withConfig({displayName:"Intro__Inspiration",componentId:"sc-8j1mex-11"})(["margin-bottom:6px;"]),C=m.a.div.withConfig({displayName:"Intro__InspirationText",componentId:"sc-8j1mex-12"})(["border-bottom:1px solid white;"]),N=function(e){e.toTranscript;var t=e.offset;return i.a.createElement(u,{size:t},i.a.createElement(f,null,i.a.createElement(w,null,i.a.createElement(y,null,"if a year were"),i.a.createElement(y,null,"only a pixel.")),i.a.createElement("h3",null,"a showcase of evolutionary time.")),i.a.createElement(h,null,i.a.createElement(x,null,i.a.createElement(p,null,"if a year were compressed to the width of this line"),i.a.createElement(g,null),i.a.createElement(p,null,"what does human evolution look like?")),i.a.createElement(x,null,i.a.createElement(p,null,"scroll right to explore ---\x3e"))),i.a.createElement(v,null,i.a.createElement(b,null,i.a.createElement(_,{href:"https://github.com/niartenyaw/if-a-year-were-only-a-pixel"},i.a.createElement(I,{src:"/if-a-year-were-only-a-pixel/github.png"}))),i.a.createElement(E,null,i.a.createElement(_,{href:"https://www.joshworth.com/dev/pixelspace/pixelspace_solarsystem.html"},i.a.createElement(C,null,"inspiration")))))},j=function(e){return e.toLocaleString("en")},k=(m.a.table.withConfig({displayName:"Transcript__DataContainer",componentId:"u4d0xh-0"})(["padding:5% 15%;"]),m.a.li.withConfig({displayName:"Transcript__ItemBase",componentId:"u4d0xh-1"})(["display:flex;justify-content:flex-start;align-items:stretch;"])),T=(Object(m.a)(k).withConfig({displayName:"Transcript__ItemHeader",componentId:"u4d0xh-2"})(["font-size:x-large;"]),Object(m.a)(k).withConfig({displayName:"Transcript__Item",componentId:"u4d0xh-3"})(["border-top:1px solid white;"]),m.a.div.withConfig({displayName:"Transcript__Year",componentId:"u4d0xh-4"})(["display:flex;justify-content:flex-end;align-items:center;width:120px;border-right:1px solid white;padding:16px;flex-shrink:0;"])),Y=(Object(m.a)(T).withConfig({displayName:"Transcript__YearHeader",componentId:"u4d0xh-5"})([""]),m.a.div.withConfig({displayName:"Transcript__Title",componentId:"u4d0xh-6"})(["flex-grow:1;padding:16px;"])),S=(Object(m.a)(Y).withConfig({displayName:"Transcript__TitleHeader",componentId:"u4d0xh-7"})(["font-size:x-large;"]),m.a.div.withConfig({displayName:"Transcript__ToTimeline",componentId:"u4d0xh-8"})(["display:inline-block;border:1px solid white;border-radius:6px;padding:3px 11px;&:hover{cursor:pointer;}"]),n(4)),L=m.a.div.withConfig({displayName:"Scrollable__ScrollableContainer",componentId:"sc-1642pgs-0"})(["display:flex;overflow:scroll;width:100vw;"]),W=m.a.div.withConfig({displayName:"Scrollable__Scroller",componentId:"sc-1642pgs-1"})(["width:","px;display:flex;flex-shrink:0;"],(function(e){return e.size})),O=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={location:-1*window.innerWidth,debouncedLocation:-1*window.innerWidth,debounce:null},e.scrollable=i.a.createRef(),e.handleScroll=e.handleScroll.bind(Object(S.a)(e)),e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.scrollable.current.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.scrollable.current.removeEventListener("scroll",this.handleScroll)}},{key:"handleScroll",value:function(e){var t=this;this.setState({location:e.target.scrollLeft-this.props.offset},(function(){if(t.state.debounce){var e=Date.now();e-t.state.debounce>=200?t.setState({debouncedLocation:t.state.location,debounce:e}):setTimeout((function(){var e=Date.now();t.state.debounce&&e-t.state.debounce>=300&&t.setState({debouncedLocation:t.state.location,debounce:null})}),500)}else t.setState({debounce:Date.now()})}))}},{key:"children",value:function(){var e=this;return this.props.children.map((function(t){return i.a.cloneElement(t,{location:e.state.location,debouncedLocation:e.state.debouncedLocation},[])}))}},{key:"render",value:function(){return i.a.createElement(L,{ref:this.scrollable,offset:this.props.offset},i.a.createElement(W,{size:this.props.size},this.children()))}}]),n}(i.a.Component),z=m.a.div.withConfig({displayName:"Point",componentId:"sc-1aop68s-0"})(["position:absolute;left:","px;bottom:0px;display:flex;align-items:flex-start;"],(function(e){return e.location})),F=m.a.div.withConfig({displayName:"Point__Arrow",componentId:"sc-1aop68s-1"})(["width:5px;height:","px;margin-right:5px;border-left:1px solid white;border-top:1px solid white;transition:height 0.5s ease-out;"],(function(e){return 70*e.layer})),M=m.a.div.withConfig({displayName:"Point__Title",componentId:"sc-1aop68s-2"})(["margin-top:-10px;width:max-content;max-width:300px;"]),D=function(e){var t=e.point;e.maxYear;return i.a.createElement(z,{location:t.location},i.a.createElement(F,{layer:t.layer||1}),i.a.createElement(M,null,t.title))};D.maxWidth=300;var H=D,A=m.a.div.withConfig({displayName:"Info",componentId:"ye6kgs-0"})(["position:absolute;left:","px;top:10%;display:flex;flex-direction:column-reverse;"],(function(e){return e.location})),B=m.a.div.withConfig({displayName:"Info__Riser",componentId:"ye6kgs-1"})(["height:100%;"]),P=m.a.div.withConfig({displayName:"Info__Title",componentId:"ye6kgs-2"})(["width:80vw;max-width:600px;"]),R=function(e){var t=e.point,n=e.maxYear;return t.yearsFromToday>n?null:i.a.createElement(A,{location:t.location},i.a.createElement(B,null),i.a.createElement(P,null,t.title))},J=function(e){var t=e.point,n=e.maxYear;if(t.yearsFromToday>n)return null;switch(t.type){case"point":return i.a.createElement(H,{point:t});case"info":return i.a.createElement(R,{point:t});default:return null}},G=m.a.div.withConfig({displayName:"Data__DataContainer",componentId:"sc-1xysers-0"})(["height:100%;width:100%;position:relative;"]),U=function(e,t){var n=t.debouncedLocation;return e>=n-H.maxWidth&&e<=n+window.innerWidth},X=function(e){return e.debouncedLocation-q()},$=function(e){return e.debouncedLocation+window.innerWidth+q()},q=function(){return 10*window.innerWidth},K=function(e){return i.a.createElement(G,null,function(e){for(var t=e.data.filter((function(t){return t.location>=X(e)&&t.location<=$(e)})),n=1,a=0;a<t.length;a++){var i=t[a];"point"===i.type&&U(i.location,e)&&(t[a]=Object.assign({},i,{layer:n}),n+=1)}return t}(e).map((function(t){return i.a.createElement(J,{key:t.title,point:t,maxYear:e.maxYear})})))},Q=m.a.div.attrs((function(e){var t=e.lineLength,n=e.location;return{style:{height:"".concat(t,"px"),left:"".concat(n,"px")}}})).withConfig({displayName:"Mark",componentId:"sc-1nxel93-0"})(["width:1px;background-color:red;position:absolute;top:0;"]),V=function(e){e.markingLocation;var t=e.location,n=10;return t%1e3===0?n=50:t%100===0&&(n=20),i.a.createElement(Q,{lineLength:n,location:t})},Z=m.a.div.withConfig({displayName:"Counter",componentId:"sc-1sui342-0"})(["position:fixed;left:","px;bottom:20px;width:140px;transform:translateX(-50%);display:flex;flex-direction:column-reverse;justify-content:flex-end;align-items:center;z-index:10;opacity:",";transition:opacity 0.5s ease-out;"],(function(e){return e.innerWidth/2}),(function(e){return e.display?"1":"0"})),ee=m.a.div.withConfig({displayName:"Counter__Arrow",componentId:"sc-1sui342-1"})(["height:0;width:0;margin-bottom:20px;border-bottom:20px solid white;border-left:20px solid transparent;border-right:20px solid transparent;"]),te=m.a.div.withConfig({displayName:"Counter__TransparentBackground",componentId:"sc-1sui342-2"})(["position:absolute;height:150%;width:150%;background-image:radial-gradient(black,transparent);z-index:-1;"]),ne=function(e){var t=e.year,n=!0;return(t>e.maxYear||isNaN(t))&&(n=!1),0===t&&(t+=0),i.a.createElement(Z,{display:n,innerWidth:window.innerWidth},i.a.createElement(te,null),i.a.createElement("div",null,i.a.createElement("div",null,j(t)),i.a.createElement("div",null,"years ago")),i.a.createElement(ee,null))},ae=function(e){return Math.max(function(e){return 10*Math.round((e.debouncedLocation-5*window.innerWidth)/10)}(e),0)},ie=function(e){return Math.min(function(e){return e.debouncedLocation+5*window.innerWidth}(e),e.maxYear)},oe=function(e,t){return Math.round(ae(e)+10*t)},re=function(e){var t=e.location;return e.maxYear-Math.round(t+window.innerWidth/2)},le=function(e){for(var t=[],n=function(e){return(ie(e)-ae(e))/10}(e),a=0;a<=n;a++){var o=oe(e,a);t.push(i.a.createElement(V,{key:o,location:o}))}return t},ce=m.a.div.withConfig({displayName:"Ruler__CounterContainer",componentId:"sc-4bvj51-0"})(["height:0;width:100%;"]),se=m.a.div.withConfig({displayName:"Ruler__MarksContainer",componentId:"sc-4bvj51-1"})(["width:100%;height:150px;position:relative;"]),de=m.a.div.withConfig({displayName:"Ruler",componentId:"sc-4bvj51-2"})(["height:150px;width:100%;display:flex;flex-direction:column;border-top:1px solid red;"]),me=function(e){return console.log(e.maxYear,e.location),i.a.createElement(de,null,i.a.createElement(ce,null,i.a.createElement(ne,{year:re(e),maxYear:e.maxYear})),i.a.createElement(se,null,le(e)))},pe=m.a.div.withConfig({displayName:"Timeline",componentId:"wofhas-0"})(["position:relative;width:100%;display:flex;flex-direction:column-reverse;"]),ue=function(e){return i.a.createElement(pe,null,i.a.createElement(me,e),i.a.createElement(K,e))},fe=m.a.div.withConfig({displayName:"App__AppBase",componentId:"jag4nx-0"})(["color:white;background-color:black;"]),he=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={transcript:!1,data:[]},e}return Object(c.a)(n,null,[{key:"maxYear",get:function(){return 6e6}},{key:"offset",get:function(){return window.innerWidth}}]),Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.fetch("".concat(window.location,"/data.json")).then((function(e){return e.json()})).then((function(t){var a=new Date(Date.now()).getYear()+1900;t.forEach((function(e){if(e.year)e.yearsFromToday=0-(parseInt(e.year)-a),e.location=n.maxYear-e.yearsFromToday;else if(e.feet_from_beginning)e.location=parseInt(e.feet_from_beginning)*n.pixelsPerFoot,e.yearsFromToday=n.maxYear-e.location;else if(e.years_from_beginning)e.location=parseInt(e.years_from_beginning),e.yearsFromToday=n.maxYear-e.location;else if(e.years_ago)e.yearsFromToday=parseInt(e.years_ago),e.location=n.maxYear-e.yearsFromToday;else if("hide"!==e.type)throw new Error("data point missing location info: ".concat(e.title))}));var i=t.sort((function(e,t){return e.location<t.location}));e.setState({data:i})}))}},{key:"toTranscript",value:function(){this.setState({transcript:!0})}},{key:"toTimeline",value:function(){this.setState({transcript:!1})}},{key:"render",value:function(){return i.a.createElement(fe,{size:n.maxYear+n.offset},i.a.createElement(O,{size:n.maxYear+n.offset,offset:n.offset},i.a.createElement(N,{offset:n.offset,toTranscript:this.toTranscript.bind(this)}),i.a.createElement(ue,{data:this.state.data,maxYear:n.maxYear,offset:n.offset})))}}],[{key:"pixelsPerFoot",get:function(){return 1560}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.aec1cf12.chunk.js.map