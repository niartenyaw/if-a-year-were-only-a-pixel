{"version":3,"sources":["components/Text.jsx","components/Intro.jsx","helpers.js","components/Transcript.jsx","components/Scrollable.jsx","components/Data/Point.jsx","components/Data/Info.jsx","components/Data/Datum.jsx","components/Data.jsx","components/Ruler/Mark.jsx","components/Counter.jsx","components/Ruler.jsx","components/Timeline.jsx","App.js","serviceWorker.js","index.js"],"names":["styled","p","Intro","div","Header","Main","Footer","Section","Heading","H1","h1","Line","ToTranscript","toTranscript","offset","size","Text","onClick","prettyYear","year","toLocaleString","DataContainer","table","ItemBase","li","ItemHeader","Item","Year","YearHeader","Title","TitleHeader","ToTimeline","DataItem","item","yearsFromToday","title","data","toTimeline","reverse","map","d","key","ScrollableContainer","Scroller","Scrollable","state","location","window","innerWidth","debouncedLocation","debounce","scrollable","React","createRef","handleScroll","bind","this","current","addEventListener","removeEventListener","e","setState","target","scrollLeft","props","now","Date","setTimeout","children","child","cloneElement","ref","Component","Point","Arrow","layer","component","point","maxYear","maxWidth","Info","Riser","type","inWindow","lowerBound","buffer","upperBound","filtered","filter","i","length","el","Object","assign","presentedData","Datum","Mark","attrs","lineLength","style","height","left","markingLocation","Counter","display","TransparentBackground","isNaN","leftMarkPosition","Math","max","round","minLeftMarkPosition","rightMarkPosition","min","maxRightMarkPosition","calculateLocation","middleYear","marks","numMarks","numberOfMarks","push","CounterContainer","MarksContainer","Ruler","console","log","Timeline","Data","AppBase","AppTimeline","AppTranscript","App","transcript","fetch","then","response","json","currentYear","getYear","forEach","parseInt","feet_from_beginning","pixelsPerFoot","years_from_beginning","years_ago","Error","sorted","sort","a","b","Transcript","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.3d8a3e56.chunk.js","sourcesContent":["import styled from 'styled-components/macro'\n\nexport default styled.p`\n  margin: 7px 0;\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nimport Text from './Text'\n\nconst Intro = styled.div`\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  flex-shrink: 0;\n`\n\nconst Header = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\nconst Main = styled.div`\n  margin-bottom: 30px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\nconst Footer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\nconst Section = styled.div`\n  margin: 10px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\nconst Heading = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n`\n\nconst H1 = styled.h1`\n margin: 0 5px;\n `\n\n const Line = styled.div`\n  height: 20px;\n  width: 1px;\n  background-color: red;\n `\n\nconst ToTranscript = styled.div`\n  display: inline-block;\n  border: 1px solid white;\n  border-radius: 6px;\n  padding: 3px 11px;\n  margin-top: 9px;\n  &:hover {\n    cursor: pointer;\n  }\n`\n\nexport default ({ toTranscript, offset }) => (\n  <Intro size={offset}>\n    <Header>\n      <Heading>\n      <H1>\n        if a year were\n      </H1>\n      <H1>\n        only a pixel.\n      </H1>\n      </Heading>\n      <h3>\n        a showcase of evolutionary time.\n      </h3>\n    </Header>\n    <Main>\n      <Section>\n        <Text>if a year were compressed to the width of this line</Text>\n        <Line />\n        <Text>what does human evolution look like?</Text>\n      </Section>\n    </Main>\n    <Footer>\n      <Text>\n        scroll right to explore --->\n      </Text>\n      <Text>\n        or\n      </Text>\n      <ToTranscript onClick={toTranscript}>\n        <Text>read the transcript (boring)</Text>\n      </ToTranscript>\n    </Footer>\n  </Intro>\n)\n","export const prettyYear = (year) => year.toLocaleString('en')\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nimport { prettyYear } from '../helpers'\nimport Text from './Text'\n\nconst DataContainer = styled.table`\n  padding: 5% 15%;\n`\n\nconst ItemBase = styled.li`\n  display: flex;\n  justify-content: flex-start;\n  align-items: stretch;\n`\n\nconst ItemHeader = styled(ItemBase)`\n  font-size: x-large;\n`\n\nconst Item = styled(ItemBase)`\n  border-top: 1px solid white;\n`\n\nconst Year = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 120px;\n  border-right: 1px solid white;\n  padding: 16px;\n  flex-shrink: 0;\n`\nconst YearHeader = styled(Year)`\n`\n\nconst Title = styled.div`\n  flex-grow: 1;\n  padding: 16px;\n`\nconst TitleHeader = styled(Title)`\n  font-size: x-large;\n`\n\nconst ToTimeline = styled.div`\n  display: inline-block;\n  border: 1px solid white;\n  border-radius: 6px;\n  padding: 3px 11px;\n  &:hover {\n    cursor: pointer;\n  }\n`\n\nconst DataItem = ({ item }) => (\n  <Item>\n    <Year>{prettyYear(item.yearsFromToday)}</Year>\n    <Title>{item.title}</Title>\n  </Item>\n)\n\nexport default ({ data, toTimeline }) => (\n  <DataContainer>\n    <ToTimeline onClick={toTimeline}>\n      <Text>\n        back\n      </Text>\n    </ToTimeline>\n    <ItemHeader>\n      <YearHeader>Years Ago</YearHeader>\n      <TitleHeader>Info</TitleHeader>\n    </ItemHeader>\n    {data.reverse().map(d => <DataItem key={d.title} item={d} />)}\n  </DataContainer>\n)\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nconst ScrollableContainer = styled.div`\n  display: flex;\n  overflow: scroll;\n  width: 100vw;\n`\n\nconst Scroller = styled.div`\n  width: ${({ size }) => size}px;\n  display: flex;\n  flex-shrink: 0;\n`\n\nclass Scrollable extends React.Component {\n  constructor () {\n    super()\n\n    this.state = {\n      location: window.innerWidth * -1, // make sure middleYear is negative at mount so Counter doesn't display\n      debouncedLocation: window.innerWidth * -1, // make sure middleYear is negative at mount so Counter doesn't display\n      debounce: null\n    }\n\n    this.scrollable = React.createRef()\n\n    this.handleScroll = this.handleScroll.bind(this)\n  }\n\n  componentDidMount () {\n    this.scrollable.current.addEventListener('scroll', this.handleScroll)\n  }\n\n  componentWillUnmount () {\n    this.scrollable.current.removeEventListener('scroll', this.handleScroll)\n  }\n\n  handleScroll (e) {\n    // Always set location so it is up to date\n    this.setState({ location: e.target.scrollLeft - this.props.offset }, () => {\n      if (this.state.debounce) {\n        const now = Date.now()\n        if (now - this.state.debounce >= 200) {\n          this.setState({ debouncedLocation: this.state.location, debounce: now })\n        } else {\n          setTimeout(() => {\n            const now = Date.now()\n            if (this.state.debounce && now - this.state.debounce >= 300) {\n              this.setState({ debouncedLocation: this.state.location, debounce: null })\n            }\n          }, 500)\n        }\n      } else {\n        this.setState({ debounce: Date.now() })\n      }\n    })\n  }\n\n  children () {\n    return this.props.children.map(child => (\n      React.cloneElement(child, { location: this.state.location, debouncedLocation: this.state.debouncedLocation }, [])\n    ))\n  }\n\n  render () {\n    return (\n      <ScrollableContainer ref={this.scrollable} offset={this.props.offset}>\n        <Scroller size={this.props.size}>\n          {this.children()}\n        </Scroller>\n      </ScrollableContainer>\n    )\n  }\n}\n\nexport default Scrollable\n","import React from 'react'\r\nimport styled from 'styled-components/macro'\r\n\r\nconst Point = styled.div`\r\n  position: absolute;\r\n  left: ${({ location }) => location}px;\r\n  bottom: 0px;\r\n  display: flex;\r\n  align-items: flex-start;\r\n`\r\n\r\nconst Arrow = styled.div`\r\n  width: 5px;\r\n  height: ${({ layer }) => layer * 70}px;\r\n  margin-right: 5px;\r\n  border-left: 1px solid white;\r\n  border-top: 1px solid white;\r\n  transition: height 0.5s ease-out;\r\n`\r\n\r\nconst Title = styled.div`\r\n  margin-top: -10px;\r\n  width: max-content;\r\n  max-width: 300px;\r\n`\r\n\r\nconst component = ({ point, maxYear }) => {\r\n  return (\r\n    <Point location={point.location}>\r\n      <Arrow layer={point.layer || 1} />\r\n      <Title>\r\n        {point.title}\r\n      </Title>\r\n    </Point>\r\n  )\r\n}\r\n\r\ncomponent.maxWidth = 300\r\n\r\nexport default component\r\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nconst Info = styled.div`\n  position: absolute;\n  left: ${({ location }) => location}px;\n  top: 10%;\n  display: flex;\n  flex-direction: column-reverse;\n`\nconst Riser = styled.div`\n  height: 100%;\n`\n\nconst Title = styled.div`\n  width: 80vw;\n  max-width: 600px;\n`\n\nexport default ({ point, maxYear }) => {\n  if (point.yearsFromToday > maxYear) {\n    return null\n  }\n\n  return (\n    <Info location={point.location}>\n      <Riser />\n      <Title>\n        {point.title}\n      </Title>\n    </Info>\n  )\n}\n","import React from 'react'\n\nimport Point from './Point'\nimport Info from './Info'\n\nexport default ({ point, maxYear }) => {\n  if (point.yearsFromToday > maxYear) {\n    return null\n  }\n\n  switch (point.type) {\n    case 'point':\n      return <Point point={point} />\n    case 'info':\n      return <Info point={point} />\n    default:\n      return null\n  }\n}\n","import React from 'react'\r\nimport styled from 'styled-components/macro'\r\n\r\nimport Datum from './Data/Datum'\r\nimport Point from './Data/Point'\r\n\r\nconst DataContainer = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  position: relative;\r\n`\r\n\r\nconst presentedData = (props) => {\r\n  const filtered = props.data.filter(point => (\r\n    point.location >= lowerBound(props) && point.location <= upperBound(props)\r\n  ))\r\n\r\n  let layer = 1\r\n  for (let i = 0; i < filtered.length; i++) {\r\n    const el = filtered[i]\r\n    if (el.type === 'point' && inWindow(el.location, props)) {\r\n      filtered[i] = Object.assign({}, el, { layer: layer })\r\n      layer += 1\r\n    }\r\n  }\r\n\r\n  return filtered\r\n}\r\n\r\nconst inWindow = (location, { debouncedLocation }) => {\r\n  return location >= debouncedLocation - Point.maxWidth &&\r\n    location <= debouncedLocation + window.innerWidth\r\n}\r\n\r\nconst lowerBound = ({ debouncedLocation }) => {\r\n  return debouncedLocation - buffer()\r\n}\r\n\r\nconst upperBound = ({ debouncedLocation }) => {\r\n  return debouncedLocation + window.innerWidth + buffer()\r\n}\r\n\r\nconst buffer = () => {\r\n  return window.innerWidth * 10\r\n}\r\n\r\nexport default (props) => (\r\n  <DataContainer>\r\n    {presentedData(props).map(point => (\r\n      <Datum\r\n        key={point.title}\r\n        point={point}\r\n        maxYear={props.maxYear}\r\n      />\r\n    ))}\r\n  </DataContainer>\r\n)\r\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nconst Mark = styled.div.attrs(({ lineLength, location }) => ({\n  style: {\n    height: `${lineLength}px`,\n    left: `${location}px`\n  }\n}))`\n  width: 1px;\n  background-color: red;\n  position: absolute;\n  top: 0;\n`\n\nexport default ({ markingLocation, location }) => {\n  let lineLength = 10\n  if (location % 1000 === 0) {\n    lineLength = 50\n  } else if (location % 100 === 0) {\n    lineLength = 20\n  }\n\n  return (\n    <Mark lineLength={lineLength} location={location} />\n  )\n}\n","import React from 'react'\r\nimport styled from 'styled-components/macro'\r\n\r\nimport { prettyYear } from '../helpers'\r\n\r\nconst Counter = styled.div`\r\n  position: fixed;\r\n  left: ${({ innerWidth }) => innerWidth / 2}px;\r\n  bottom: 20px;\r\n\r\n  width: 140px;\r\n  transform: translateX(-50%);\r\n\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n\r\n  z-index: 10;\r\n\r\n  opacity: ${({ display }) => display ? '1' : '0'};\r\n  transition: opacity 0.5s ease-out;\r\n`\r\n\r\nconst Arrow = styled.div`\r\n  height: 0;\r\n  width: 0;\r\n  margin-bottom: 20px;\r\n  border-bottom: 20px solid white;\r\n  border-left: 20px solid transparent;\r\n  border-right: 20px solid transparent;\r\n`\r\n\r\nconst TransparentBackground = styled.div`\r\n  position: absolute;\r\n  height: 150%;\r\n  width: 150%;\r\n  background-image: radial-gradient(black, transparent);\r\n  z-index: -1;\r\n`\r\n\r\nexport default (props) => {\r\n  let { year, maxYear } = props\r\n  let display = true\r\n  if (year > maxYear || isNaN(year)) display = false\r\n  if (year === 0) year += 0 // stupid negative zero\r\n  return (\r\n    <Counter display={display} innerWidth={window.innerWidth}>\r\n      <TransparentBackground />\r\n      <div>\r\n        <div>\r\n          {prettyYear(year)}\r\n        </div>\r\n        <div>\r\n          years ago\r\n        </div>\r\n      </div>\r\n      <Arrow />\r\n    </Counter>\r\n  )\r\n}\r\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nimport Mark from './Ruler/Mark'\nimport Counter from './Counter'\n\nconst yearsPerMark = 10\nconst buffer = 5\n\nconst minLeftMarkPosition = (props) => (\n  Math.round((props.debouncedLocation - (buffer * window.innerWidth)) / yearsPerMark) * yearsPerMark\n)\n\nconst leftMarkPosition = (props) => (\n  Math.max(minLeftMarkPosition(props), 0)\n)\n\nconst maxRightMarkPosition = (props) => (\n  props.debouncedLocation + (buffer * window.innerWidth)\n)\n\nconst rightMarkPosition = (props) => (\n  Math.min(maxRightMarkPosition(props), props.maxYear)\n)\n\nconst numberOfMarks = (props) => (\n  (rightMarkPosition(props) - leftMarkPosition(props)) / yearsPerMark\n)\n\nconst calculateLocation = (props, i) => (\n  Math.round(leftMarkPosition(props) + i * yearsPerMark)\n)\n\nconst middleYear = ({ location, maxYear }) => (\n  maxYear - Math.round(location + (window.innerWidth / 2))\n)\n\nconst marks = (props) => {\n  const marks = []\n  const numMarks = numberOfMarks(props)\n  for (let i = 0; i <= numMarks; i++) {\n    const location = calculateLocation(props, i)\n    marks.push(\n      <Mark key={location} location={location} />\n    )\n  }\n\n  return marks\n}\n\nconst CounterContainer = styled.div`\n  height: 0;\n  width: 100%;\n`\n\nconst MarksContainer = styled.div`\n  width: 100%;\n  height: 150px;\n  position: relative;\n`\n\nconst Ruler = styled.div`\n  height: 150px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  border-top: 1px solid red;\n`\n\nexport default (props) => {\n  console.log(props.maxYear, props.location)\n  return (\n    <Ruler>\n      <CounterContainer>\n        <Counter year={middleYear(props)} maxYear={props.maxYear} />\n      </CounterContainer>\n      <MarksContainer>\n        {marks(props)}\n      </MarksContainer>\n    </Ruler>\n  )\n}\n","\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\nimport Data from './Data'\nimport Ruler from './Ruler'\n\nconst Timeline = styled.div`\n  position: relative;\n  width: 100%;\n  display: flex;\n  flex-direction: column-reverse;\n`\n\nexport default (props) => (\n  <Timeline>\n    <Ruler\n      {...props}\n    />\n    <Data\n      {...props}\n    />\n  </Timeline>\n)\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nimport Intro from './components/Intro'\nimport Transcript from './components/Transcript'\nimport Scrollable from './components/Scrollable'\nimport Timeline from './components/Timeline'\n\nconst AppBase = styled.div`\n  color: white;\n  background-color: black;\n`\n\nconst AppTimeline = styled(AppBase)`\n  width: ${({ size }) => size}px;\n`\nconst AppTranscript = styled(AppBase)`\n  width: ${({ size }) => size}px;\n`\n\nclass App extends React.Component {\n  static get maxYear () {\n    return 6000000\n  }\n\n  static get offset () {\n    return window.innerWidth\n  }\n\n  constructor () {\n    super()\n\n    this.state = {\n      transcript: false,\n      data: []\n    }\n  }\n\n  static get pixelsPerFoot () {\n    return 1560\n  }\n\n  componentDidMount () {\n    window.fetch(`${window.location}/data.json`)\n      .then(response => response.json())\n      .then(data => {\n        const currentYear = (new Date(Date.now())).getYear() + 1900 // fucking javascript\n        data.forEach(point => {\n          if (point.year) {\n            point.yearsFromToday = 0 - (parseInt(point.year) - currentYear)\n            point.location = App.maxYear - point.yearsFromToday\n          } else if (point.feet_from_beginning) {\n            point.location = parseInt(point.feet_from_beginning) * App.pixelsPerFoot\n            point.yearsFromToday = App.maxYear - point.location\n          } else if (point.years_from_beginning) {\n            point.location = parseInt(point.years_from_beginning)\n            point.yearsFromToday = App.maxYear - point.location\n          } else if (point.years_ago) {\n            point.yearsFromToday = parseInt(point.years_ago)\n            point.location = App.maxYear - point.yearsFromToday\n          } else {\n            if (point.type !== 'hide') {\n              throw new Error(`data point missing location info: ${point.title}`)\n            }\n          }\n        })\n        const sorted = data.sort((a, b) => a.location < b.location)\n        this.setState({ data: sorted })\n      })\n  }\n\n  toTranscript () {\n    this.setState({ transcript: true })\n  }\n\n  toTimeline () {\n    this.setState({ transcript: false })\n  }\n\n  render () {\n    if (this.state.transcript) {\n      return (\n        <AppTranscript size={window.innerWidth}>\n          <Transcript data={this.state.data} toTimeline={this.toTimeline.bind(this)} />\n        </AppTranscript>\n      )\n    }\n\n    // TODO: fix CSS so don't have to pass size into both\n    return (\n      <AppTimeline size={App.maxYear + App.offset}>\n        <Scrollable size={App.maxYear + App.offset} offset={App.offset}>\n          <Intro offset={App.offset} toTranscript={this.toTranscript.bind(this)} />\n          <Timeline data={this.state.data} maxYear={App.maxYear} offset={App.offset} />\n        </Scrollable>\n      </AppTimeline>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  window.fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}